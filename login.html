<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login | Notes App</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; font-family: 'Inter', sans-serif; }
    body {
      margin: 0; height: 100vh;
      background: linear-gradient(135deg, #667eea, #764ba2);
      display: flex; justify-content: center; align-items: center;
    }
    .login-card {
      background: #fff; width: 380px; padding: 40px 30px; border-radius: 16px;
      box-shadow: 0 20px 50px rgba(0,0,0,0.2); text-align: center;
    }
    .login-card h2 { margin-bottom: 10px; color: #333; font-weight: 600; font-size: 26px; }
    .login-card p { color: #666; font-size: 14px; margin-bottom: 25px; }
    .input-group { position: relative; margin-bottom: 20px; }
    .login-card input {
      width: 100%; padding: 14px 45px 14px 15px; border-radius: 8px; border: 1px solid #ddd;
      font-size: 15px; outline: none; transition: 0.3s;
    }
    .login-card input:focus { border-color: #667eea; box-shadow: 0 0 5px rgba(102,126,234,0.4); }
    .show-password {
      position: absolute; right: 12px; top: 50%; transform: translateY(-50%);
      cursor: pointer; font-size: 16px; color: #666;
    }
    .auth-btn { width: 100%; padding: 14px; border: none; border-radius: 8px;
      font-size: 16px; cursor: pointer; margin-top: 10px; font-weight: 600; transition: 0.3s; }
    .login-btn { background: #667eea; color: #fff; }
    .login-btn:hover { background: #5a67d8; }
    .signup-btn { background: #764ba2; color: #fff; }
    .signup-btn:hover { background: #5e3793; }
    .google-btn {
      width: 100%; padding: 14px; border: none; border-radius: 8px; font-size: 16px;
      cursor: pointer; display: flex; align-items: center; justify-content: center;
      gap: 10px; background: #fff; border: 1px solid #ddd; transition: 0.3s; margin-top: 15px; font-weight: 600;
    }
    .google-btn:hover { background: #f5f5f5; }
    .google-btn img { width: 20px; }
    .footer-text { margin-top: 20px; font-size: 12px; color: #888; }
  </style>
</head>
<body>

  <div class="login-card">
    <h2>Welcome Back</h2>
    <p>Login or Sign Up to continue to Notes App</p>

    <div class="input-group">
      <input type="email" id="email" placeholder="Email">
    </div>

    <div class="input-group">
      <input type="password" id="password" placeholder="Password">
      <span class="show-password" id="togglePassword">üëÅÔ∏è</span>
    </div>

    <button class="auth-btn login-btn" id="loginBtn">Login</button>
    <button class="auth-btn signup-btn" id="signupBtn">Sign Up</button>

    <button class="google-btn" id="googleLogin">
      <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg">
      Sign in with Google
    </button>

    <div class="footer-text">
      Powered by Firebase Authentication
    </div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getAuth, GoogleAuthProvider, signInWithPopup, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDP3tSd4wanWKxjEE_clNiSw1bzIos8dnM",
      authDomain: "notes-app-67faa.firebaseapp.com",
      projectId: "notes-app-67faa",
      storageBucket: "notes-app-67faa.firebasestorage.app",
      messagingSenderId: "331050529283",
      appId: "1:331050529283:web:3df822bb2ebf8e3e5e9436",
      measurementId: "G-VK49P39KSW"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();

    // Show/Hide Password
    const togglePassword = document.getElementById("togglePassword");
    const passwordInput = document.getElementById("password");
    togglePassword.addEventListener("click", () => {
      const type = passwordInput.type === "password" ? "text" : "password";
      passwordInput.type = type;
      togglePassword.textContent = type === "password" ? "üëÅÔ∏è" : "üôà";
    });

    // Google Sign-in
    document.getElementById("googleLogin").onclick = async () => {
      try {
        const result = await signInWithPopup(auth, provider);
        // Redirect to dashboard after login
        window.location.href = "dashboard.html";
      } catch (err) {
        alert(err.message);
        console.error(err);
      }
    };

    // Email/Password Sign Up
    document.getElementById("signupBtn").onclick = async () => {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      if (!email || !password) {
        alert("Please enter email and password");
        return;
      }

      try {
        await createUserWithEmailAndPassword(auth, email, password);
        alert("Account created!");
        window.location.href = "dashboard.html"; // Redirect after signup
      } catch (err) {
        alert(err.message);
        console.error(err);
      }
    };

    // Email/Password Login
    document.getElementById("loginBtn").onclick = async () => {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      if (!email || !password) {
        alert("Please enter email and password");
        return;
      }

      try {
        await signInWithEmailAndPassword(auth, email, password);
        window.location.href = "dashboard.html"; // Redirect after login
      } catch (err) {
        alert(err.message);
        console.error(err);
      }
    };
  </script>

</body>
</html>
